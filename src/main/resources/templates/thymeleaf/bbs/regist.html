<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Hello thymeleaf</title>
    <link rel="stylesheet" th:href="@{/css/board.css}">
</head>
<body>
<script>
    function DosignUp() {

        var inputId = $("#userId").val();
        var inputPwd = $("#userPw").val();
        var inputPwdCfm = $("#userPwCfm").val();
        var inputCpnName = $("#userName").val();
        var inputCpnEmail = $("#userEmail").val();


        if(inputId.length == 0) { alert("아이디를 입력해 주세요."); $("#userId").focus(); return; }
        if(isCheckId == 0) { alert("아이디 중복 체크를 해주세요."); $("#userId").focus(); return; }

        if(inputPwd.length == 0) { alert("비밀번호를 입력해 주세요."); $("#userPw").focus(); return; }
        if(inputPwd != inputPwdCfm) { alert("비밀번호가 서로 다릅니다. 비밀번호를 확인해 주세요."); $("#userPw").focus(); return; }

        if(inputCpnName.length == 0) { alert("성함을 입력해 주세요."); $("#userName").focus(); return; }

        if(inputCpnEmail.length == 0) { alert("이메일을 입력해 주세요."); $("#userEmail").focus(); return; }
        }
</script>
<div class="container">
    <div class="row">
        <div class="col-md-4 col-md-offset-3" style="width: 50%">
            <div class="login-panel panel panel-default" style="margin-top: 10%; margin-bottom: 10%;">
                <div class="panel-heading">
                    <form role="form" action="regist" method="post">

                        <div class="form-group" id="divInputId">
                            <label>아이디</label>
                            <input class="form-control" style="margin-bottom: 5px;" placeholder="아이디" name="userId"
                                   id="userId" type="text"/>
                            <input type="button" class="btn btn-default" style="width: 30%;" value="중복확인"
                                   onclick="duplicationId();"/>
                            <div class="formCheck"></div>
                        </div>
                        <div class="form-group">
                            <label>비밀번호</label>
                            <input class="form-control" placeholder="비밀번호" name="userPw" id="userPw" type="password"
                                   required/>
                            <div class="formCheck2"></div>
                        </div>
                        <div class="form-group">
                            <label>이름</label>
                            <input class="form-control" placeholder="이름" name="userName" id="userName" type="text"
                                   required/>
                            <div class="formCheck3"></div>
                        </div>
                        <div class="form-group">
                            <label>이메일</label>
                            <input class="form-control" placeholder="이메일" name="userEmail" id="userEmail" type="text"
                                   required/>
                            <div class="formCheck5"></div>
                        </div>
                        <div class="social-auth-links text-center">
                            <p>- 또는 -</p>
                            <a href="#" class="btn btn-block btn-social btn-facebook btn-flat">
                                <i class="fa fa-facebook"></i> 페이스북으로 가입
                            </a>
                            <a href="#" class="btn btn-block btn-social btn-google btn-flat">
                                <i class="fa fa-google-plus"></i> 구글 계정으로 가입
                            </a>
                        </div>
                        <button type="submit" class="btn btn-lg btn-success btn-block" id="registerBtn">회원가입</button>


                        <a href="${path}/thymeleaf/login" class="text-center">로그인</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

    if($("#submitBtn").on("click", function alert(){ confirm("회원가입을 하시겠습니까?")) {
        alert("가입!");

        location.href= "...do";



    }
    }
    var result = '[[${result}]]';

    console.log("결과는 = " + result)
    if (result == 'Success') {
        alert("회원가입을 축하드립니다!!!");
    }


    /* 회원가입 유효성 : JavaScript 정규표현식을 이용한 유효성 검사 */

    //모든 공백 체크 정규식
    var empJ = /\s/g;
    //아이디 정규식
    var idJ = /^[a-z0-9]{4,12}$/;
    // 비밀번호 정규식
    var pwJ = /^[A-Za-z0-9]{4,12}$/;   // A~Z, a~z, 0~9로 시작하는 4~12자리 비밀번호 설정 가능
    // 이름 정규식
    var nameJ = /^[가-힣]{2,6}$/; // 한글로 이뤄진 문자만으로 2~6자리 이름을 적어야 함
    // 이메일 검사 정규식
    var mailJ = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i;

    //아이디 정규식 처리
    $("#userId").blur(function () {
        if (idJ.test($(this).val())) {
            console.log(idJ.test($(this).val()));
            $(".formCheck").text('사용 가능한 아이디입니다.');
            $('.formCheck').css("color", "green");
            $('#registerBtn').attr("disabled", false);
        } else {
            $('.formCheck').text("아이디는 4~12자로 입력해주세요.");
            $('.formCheck').css('color', 'red');
            $('#registerBtn').attr("disabled", true);
        }
    });

    //비밀번호 정규식 처리
    $("#userPw").blur(function () {
        if (pwJ.test($(this).val())) {
            console.log(pwJ.test($(this).val()));
            $(".formCheck2").text('사용 가능한 비밀번호입니다.');
            $('.formCheck2').css("color", "green");
            $('#registerBtn').attr("disabled", false);
        } else {
            $('.formCheck2').text("비밀번호는 영문,숫자 4~12자로 입력해주세요.");
            $('.formCheck2').css('color', 'red');
            $('#registerBtn').attr("disabled", true);
        }
    });

    //이름 정규식 처리
    $("#userName").blur(function () {
        if (nameJ.test($(this).val())) {
            console.log(nameJ.test($(this).val()));
            $(".formCheck3").text('사용 가능한 이름입니다.');
            $('.formCheck3').css("color", "green");
            $('#registerBtn').attr("disabled", false);
        } else {
            $('.formCheck3').text("이름은 2~6자로 입력해주세요.");
            $('.formCheck3').css('color', 'red');
            $('#registerBtn').attr("disabled", true);
        }
    });

    //아이디 정규식 처리
    $("#userEmail").blur(function () {
        if (mailJ.test($(this).val())) {
            console.log(mailJ.test($(this).val()));
            $(".formCheck5").text('사용 가능한 이메일입니다.');
            $('.formCheck5').css("color", "green");
            $('#registerBtn').attr("disabled", false);
        } else {
            $('.formCheck5').text("이메일 형식을 확인해주세요.");
            $('.formCheck5').css('color', 'red');
            $('#registerBtn').attr("disabled", true);
        }
    });

</script>
</body>
</html>